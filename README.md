Проект: Высокоточные измерения геометрии объектов на основе фотографий
Описание
Этот проект направлен на разработку алгоритма для точных измерений геометрии объектов с использованием парных фотографий, сделанных с разных камер. Основной алгоритм включает стереокалибровку, использование маркерных сетей для корректировки масштаба, детекцию объектов с использованием модели YOLOv8, а также триангуляцию для измерения расстояний между точками на изображении.

Структура проекта
Проект состоит из следующих основных файлов и директорий:

calibrate_setka/: Данные для калибровки на основе маркерных сетей. Используются изображения маркерных сетей с известными размерами для определения масштаба.

calibrate_stereo/: Фотографии и скрипты для стереокалибровки двух камер.

materials/: Вспомогательные материалы для проекта (например, параметры камер, 3D-модели).

train/, test/, valid/: Каталоги с изображениями, размеченными для обучения и тестирования модели YOLOv8.

runs/: Результаты запуска модели YOLOv8 для детекции объектов на изображениях.

calibrate_stereo_with_yolo.py: Скрипт для стереокалибровки с использованием модели YOLO для детекции маркеров.

data.yaml: Конфигурационный файл, содержащий пути к данным и информацию для обучения модели YOLO.

find_coef.py: Скрипт для расчета коэффициента масштаба на основе детекции маркеров на изображении (маркерная сеть с диаметром 5 мм).

measure_stereo.py: Основной алгоритм для измерения расстояний на основе парных изображений и триангуляции.

measure_yolo.py: Скрипт для измерения расстояний между детектированными точками с использованием модели YOLOv8.

scale_factor.txt: Файл, содержащий коэффициент масштаба, рассчитанный на основе маркерной сети.

test_yolo.py: Скрипт для тестирования детекции объектов на изображениях с использованием модели YOLO.

train_yolo.py: Скрипт для обучения модели YOLOv8 на размеченных данных.

yolov8m.pt: Предобученная модель YOLOv8, используемая для тренировки модели для детекции маркеров на объектах.

Гайд по запуску:
1. Клонируйте репозиторий via git clone https://github.com/Postironia1/Hacaton.v1i.yolov8.git
2. Установите необходимые библиотеки via pip install -r requirements.txt
3. В runs/detect/train3/weights/ лежит файл best.pt с весами предобученной на маркерах YOLOv8, вы можете дообучить ее запустив файл train_yolo.py, предварительно добавив размеченные согласно методологии YOLOv8 изображения в папку train/
4. Для тестирования работоспособности YOLO запустите файл test_yolo.py, предварительно добавив тестовые изображения в папку test/
5. Для расчета метрических расстояний заместо пиксельных вы должны получить коэффициент преобразования запустив файл find_coef.py, в результате будет создан файл scale_factor.txt
6. Для измерения расстояний на плоскостях вы можете использовать алгоритм реализованный в measure_yolo.py, для этого добавьте путь до нужного файла в переменную test_images_path, данный алгоритм не предполагает выбор точек для измерения, а лишь показывает свой результат на двух маркерных точках на изображении
7. Запустите файл calibrate_stereo_with_yolo.py для визуализации калибровки камеры с использованием маркеров, которые детектятся с помошью YOLO
8. Запустите файл measure_stereo.py для измерения расстояний между двумя любыми выбранными вами точками на изображении.
